# =============================================================================
# QuDAG Environment Configuration
# =============================================================================
# BUILDKIT_STARTER_SPEC.md Layer 11: P2P Coordination (P3-011)
#
# QuDAG is a quantum-resistant distributed communication platform for
# autonomous AI agents, swarm intelligence, and zero-person businesses.
#
# Copy this file to .env.qudag and customize for your deployment:
#   cp .env.qudag.example .env.qudag
#
# See: https://github.com/ruvnet/qudag
# =============================================================================

# =============================================================================
# Node Identity
# =============================================================================
# Unique identifier for this node (auto-generated if not set)
QUDAG_NODE_ID=node-1

# Human-readable node name
QUDAG_NODE_NAME=qudag-primary

# =============================================================================
# Network Configuration
# =============================================================================
# Network to connect to: mainnet | testnet | devnet | local
QUDAG_NETWORK=testnet

# P2P network port (libp2p)
QUDAG_P2P_PORT=9002

# MCP HTTP API port
QUDAG_MCP_HTTP_PORT=9000

# MCP WebSocket port
QUDAG_MCP_WS_PORT=9001

# Prometheus metrics port
QUDAG_METRICS_PORT=9003

# Raft consensus port (internal cluster communication)
QUDAG_RAFT_PORT=9004

# =============================================================================
# Bootstrap Nodes
# =============================================================================
# Comma-separated list of bootstrap nodes for network discovery
# Format: /dns4/<hostname>/tcp/<port>/p2p/<peer-id>
# Leave empty for local-only deployment

# Testnet bootstrap nodes (QuDAG public testnet)
QUDAG_BOOTSTRAP_NODES=/dns4/testnet-us-west.qudag.network/tcp/9002/p2p/12D3KooWExample1,/dns4/testnet-eu-central.qudag.network/tcp/9002/p2p/12D3KooWExample2

# Testnet-specific bootstrap (for --profile testnet)
QUDAG_TESTNET_BOOTSTRAP=/dns4/testnet-us-west.qudag.network/tcp/9002/p2p/12D3KooWExample1,/dns4/testnet-eu-central.qudag.network/tcp/9002/p2p/12D3KooWExample2,/dns4/testnet-ap-east.qudag.network/tcp/9002/p2p/12D3KooWExample3

# =============================================================================
# Storage Configuration
# =============================================================================
# Data directory for node state
QUDAG_DATA_DIR=/data

# Keys directory for cryptographic keys
QUDAG_KEYS_DIR=/keys

# DAG directory for DAG storage
QUDAG_DAG_DIR=/dag

# Log directory
QUDAG_LOG_DIR=/logs

# =============================================================================
# Post-Quantum Cryptography Configuration
# =============================================================================
# Key encapsulation mechanism: ml-kem-768 | ml-kem-1024 | x25519 (classical)
QUDAG_CRYPTO_SUITE=ml-kem-768

# Digital signature scheme: ml-dsa-65 | ml-dsa-87 | ed25519 (classical)
QUDAG_SIGNATURE_SCHEME=ml-dsa-65

# Hash function: blake3 | sha3-256 | sha256
QUDAG_HASH_FUNCTION=blake3

# Hybrid mode: Use both classical and post-quantum algorithms
# Provides defense-in-depth during the quantum transition period
QUDAG_HYBRID_MODE=true

# =============================================================================
# DAG Consensus Configuration (QR-Avalanche)
# =============================================================================
# Consensus algorithm: qr-avalanche | raft | paxos
QUDAG_CONSENSUS_ALGORITHM=qr-avalanche

# Number of nodes to sample for consensus (Avalanche parameter k)
QUDAG_SAMPLE_SIZE=20

# Quorum size for decision (Avalanche parameter alpha)
QUDAG_QUORUM_SIZE=14

# Decision threshold (fraction of samples agreeing)
QUDAG_DECISION_THRESHOLD=0.8

# =============================================================================
# Onion Routing Configuration
# =============================================================================
# Enable multi-hop onion routing for privacy
QUDAG_ONION_ENABLED=true

# Number of hops in onion circuit
QUDAG_ONION_HOPS=3

# Encryption cipher for onion layers: chacha20poly1305 | aes-gcm
QUDAG_ONION_CIPHER=chacha20poly1305

# =============================================================================
# MCP Server Configuration
# =============================================================================
# Enable MCP server for AI agent integration
QUDAG_MCP_ENABLED=true

# Transport protocols: http | websocket | stdio (comma-separated)
QUDAG_MCP_TRANSPORT=http,websocket

# Require authentication for MCP connections
QUDAG_MCP_AUTH_REQUIRED=false

# Maximum concurrent MCP connections
QUDAG_MCP_MAX_CONNECTIONS=100

# =============================================================================
# MCP Tools Configuration
# =============================================================================
# Enable MCP tools
QUDAG_MCP_TOOLS_ENABLED=true

# Available MCP tools (comma-separated)
# Tools:
#   - send_message: Send encrypted message to another node
#   - query_dag: Query the DAG for messages
#   - create_channel: Create a new communication channel
#   - join_channel: Join an existing channel
#   - verify_signature: Verify a digital signature
#   - encrypt_message: Encrypt a message with post-quantum crypto
#   - decrypt_message: Decrypt a received message
#   - get_node_info: Get information about this node
#   - get_network_stats: Get network statistics
QUDAG_MCP_TOOLS=send_message,query_dag,create_channel,join_channel,verify_signature,encrypt_message,decrypt_message,get_node_info,get_network_stats

# =============================================================================
# MCP Resources Configuration
# =============================================================================
# Enable MCP resources
QUDAG_MCP_RESOURCES_ENABLED=true

# Available MCP resources (comma-separated)
# Resources:
#   - dag:// - Access DAG entries
#   - channel:// - Access channel information
#   - identity:// - Access identity information
#   - message:// - Access message history
QUDAG_MCP_RESOURCES=dag://,channel://,identity://,message://

# =============================================================================
# Dark Domain Configuration
# =============================================================================
# Enable .dark domain system for decentralized addressing
QUDAG_DARK_DOMAIN_ENABLED=true

# Domain suffix for dark addresses
QUDAG_DARK_DOMAIN_SUFFIX=.dark

# =============================================================================
# Token Economy Configuration (rUv)
# =============================================================================
# Enable rUv token economy for resource exchange
QUDAG_TOKEN_ENABLED=false

# Stake amount required for consensus participation
QUDAG_TOKEN_STAKE_AMOUNT=100

# =============================================================================
# Logging Configuration
# =============================================================================
# Rust log levels: error | warn | info | debug | trace
# Format: module1=level,module2=level
RUST_LOG=info,qudag=debug,qudag_mcp=debug,qudag_network=info

# Enable stack traces on panic
RUST_BACKTRACE=1

# =============================================================================
# Development Settings (only for local development)
# =============================================================================
# Skip signature verification (DANGEROUS - never use in production)
# QUDAG_DEV_SKIP_VERIFICATION=false

# Use deterministic key generation (DANGEROUS - never use in production)
# QUDAG_DEV_DETERMINISTIC_KEYS=false

# Fast consensus for development (lower sample size)
# QUDAG_DEV_FAST_CONSENSUS=false
