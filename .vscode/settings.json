{
  // ==========================================================================
  // File handling
  // ==========================================================================
  "files.eol": "\n",
  "files.insertFinalNewline": true,
  "files.trimTrailingWhitespace": true,

  // ==========================================================================
  // Terminal configuration - multiple shell options
  // ==========================================================================
  "terminal.integrated.defaultProfile.linux": "bash",
  "terminal.integrated.profiles.linux": {
    "bash": {
      "path": "bash",
      "icon": "terminal-bash"
    },
    "zsh": {
      "path": "zsh",
      "icon": "terminal"
    },
    "nushell": {
      "path": "nu",
      "icon": "terminal-powershell"
    }
  },
  "terminal.integrated.shellIntegration.enabled": true,
  "terminal.integrated.scrollback": 10000,
  "terminal.integrated.windowsUseConptyDll": true,

  // ==========================================================================
  // Editor settings
  // ==========================================================================
  "editor.formatOnSave": true,
  "editor.tabSize": 2,

  // ==========================================================================
  // Git settings
  // ==========================================================================
  "git.enableCommitSigning": false,
  "git.autofetch": true,

  // ==========================================================================
  // Nix settings (nil language server)
  // ==========================================================================
  "nix.enableLanguageServer": true,
  "nix.serverPath": "nil",
  "nix.formatterPath": "nixfmt",
  "nix.serverSettings": {
    "nil": {
      "formatting": {
        "command": ["nixfmt"]
      }
    }
  },

  // ==========================================================================
  // Direnv
  // ==========================================================================
  "direnv.restart.automatic": true,

  // ==========================================================================
  // Shell scripts
  // ==========================================================================
  "shellcheck.enable": true,

  // ==========================================================================
  // Python settings (via Pixi environment)
  // Node.js and Cargo run through pixi for cross-platform consistency
  // ==========================================================================
  "python.defaultInterpreterPath": "${workspaceFolder}/.pixi/envs/default/bin/python",
  "[python]": {
    "editor.defaultFormatter": "charliermarsh.ruff",
    "editor.formatOnSave": true
  },

  // ==========================================================================
  // Rust settings (via Nix)
  // ==========================================================================
  "rust-analyzer.cargo.buildScripts.enable": true,
  "rust-analyzer.procMacro.enable": true,
  "[rust]": {
    "editor.defaultFormatter": "rust-lang.rust-analyzer",
    "editor.formatOnSave": true
  },

  // ==========================================================================
  // Node.js / JavaScript / TypeScript settings (Node via Pixi)
  // ==========================================================================
  "[javascript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode",
    "editor.formatOnSave": true
  },
  "[typescript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode",
    "editor.formatOnSave": true
  },
  "[json]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode",
    "editor.formatOnSave": true
  },
  "[jsonc]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode",
    "editor.formatOnSave": true
  },

  // ==========================================================================
  // YAML / TOML / Markdown
  // ==========================================================================
  "[yaml]": {
    "editor.defaultFormatter": "redhat.vscode-yaml",
    "editor.formatOnSave": true
  },
  "[toml]": {
    "editor.defaultFormatter": "tamasfe.even-better-toml",
    "editor.formatOnSave": true
  },
  "[markdown]": {
    "editor.wordWrap": "on",
    "files.trimTrailingWhitespace": false
  },

  // ==========================================================================
  // C/C++ settings
  // ==========================================================================
  "C_Cpp.default.cStandard": "c17",
  "C_Cpp.default.cppStandard": "c++20",
  "[cpp]": {
    "editor.formatOnSave": true
  },
  "[c]": {
    "editor.formatOnSave": true
  },

  // ==========================================================================
  // GitHub Copilot settings
  // ==========================================================================
  "chat.agent.maxRequests": 2500,
  "chat.agent.thinking.collapsedTools": "withThinking",
  "chat.allowAnonymousAccess": true,
  "chat.checkpoints.showFileChanges": true,
  "chat.customAgentInSubagent.enabled": true,
  "chat.editor.wordWrap": "on",
  "chat.edits2.enabled": true,
  "chat.mcp.assisted.nuget.enabled": true,
  "chat.mcp.discovery.enabled": {
    "claude-desktop": true,
    "cursor-global": true,
    "cursor-workspace": true
  },
  "chat.mcp.gallery.enabled": true,
  "chat.renderRelatedFiles": true,
  "chat.restoreLastPanelSession": true,
  "chat.tools.terminal.autoReplyToPrompts": true,
  "chat.tools.terminal.blockDetectedFileWrites": "never",
  "chat.useAgentSkills": true,
  "inlineChat.enableV2": true,
  "inlineChat.finishOnType": true,
  "inlineChat.notebookAgent": true,
  "github.copilot.nextEditSuggestions.enabled": true,
  "github.copilot.nextEditSuggestions.extendedRange": true,
  "github.copilot.chat.tools.memory.enabled": true,
  "github.copilot.chat.languageContext.fix.typescript.enabled": true,
  "github.copilot.chat.languageContext.typescript.enabled": true,
  "github.copilot.chat.languageContext.inline.typescript.enabled": true,
  "github.copilot.chat.languageContext.typescript.includeDocumentation": true,
  "github.copilot.chat.nesFetcher": "node-fetch",
  "github.copilot.chat.notebook.enhancedNextEditSuggestions.enabled": true,
  "github.copilot.chat.notebook.followCellExecution.enabled": true,
  "github.copilot.chat.scopeSelection": true,
  "github.copilot.chat.anthropic.useMessagesApi": true,
  "github.copilot.chat.anthropic.tools.websearch.maxUses": 20,
  "github.copilot.chat.anthropic.tools.websearch.enabled": true,
  "github.copilot.chat.agent.autoFix": true,
  "github.copilot.chat.alternateGeminiModelFPrompt.enabled": true,
  "github.copilot.chat.alternateGptPrompt.enabled": true,
  "github.copilot.chat.anthropic.thinking.budgetTokens": 32000
}
